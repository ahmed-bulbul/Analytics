<section class="section">
  <div class="card">
    <div class="card-header">
      <h2>User Shops</h2>
      <span class="badge">Admin</span>
    </div>
    <div class="grid kpis">
      <div>
        <label>Domain filter</label>
        <input [(ngModel)]="domain" type="text" />
      </div>
      <div style="align-self: end;">
        <button (click)="load()">Load</button>
      </div>
    </div>

    <div class="grid kpis" style="margin-top: 16px;">
      <div>
        <label>Rate Limit Shop ID</label>
        <input [(ngModel)]="rateShopId" type="number" />
      </div>
      <div>
        <label>Capacity</label>
        <input [(ngModel)]="rateCapacity" type="number" />
      </div>
      <div>
        <label>Refill / Minute</label>
        <input [(ngModel)]="rateRefill" type="number" />
      </div>
      <div>
        <label>Enabled</label>
        <select [(ngModel)]="rateEnabled">
          <option [ngValue]="true">true</option>
          <option [ngValue]="false">false</option>
        </select>
      </div>
      <div style="align-self: end;">
        <button (click)="updateRateLimit()">Apply Rate Limit</button>
      </div>
    </div>

    <table class="table" style="margin-top: 16px;">
      <thead>
        <tr>
          <th>Shop ID</th>
          <th>Domain</th>
          <th>Timezone</th>
          <th>Currency</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let shop of shops">
          <td>{{shop.shopId}}</td>
          <td>{{shop.shopDomain}}</td>
          <td>{{shop.timezone}}</td>
          <td>{{shop.currency}}</td>
          <td>
            <button class="danger" (click)="softDelete(shop.shopId)">Soft Delete</button>
          </td>
        </tr>
      </tbody>
    </table>

    <p style="margin-top: 8px;">Total: {{total}}</p>
  </div>
</section>
